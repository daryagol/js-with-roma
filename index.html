<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
        html {
            height: 100%
        }
        body {
            height: 100%;
            margin: 0;
            padding: 0
        }
        #map-canvas {
            height: 100%
        }
    </style>
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAAlLGrDMvUTdHfnXiKN3yUiSrBAolRKZg&sensor=true"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script type="text/javascript">
        function initialize(){
            var chicago = new google.maps.LatLng(52.5167, 13.3833);
            var mapOptions = {
                zoom: 11,
                center: chicago
            }

            var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);

            var ctaLayer = new google.maps.KmlLayer({
                url: 'https://sites.google.com/site/darya0705website/kmlhosting/gez-test-three-adresses.kml'
            });
            ctaLayer.setMap(map);

        }



        google.maps.event.addDomListener(window, 'load', initialize);
    </script>
</head>

<body>


    <div id="map-canvas">
    </div>
    <table>
        <thead>
            <tr>
                <th>
                    Select
                </th>
                <th>
                    Date
                </th>
                <th>
                    Contact
                </th>
            </tr>
        </thead>
        <tbody id="table-body">
        </tbody>
    </table>
    <script>
    
        
    
        $.ajax({
            method: 'GET',
            url: '/points.json',
            success: function geojesonRequestSuccess(data){
                'use strict';
                console.log(data);
                var tbody = document.getElementById("table-body");
                
                function addCell(row, content){
                    if(typeof content === "string") {
                        content = document.createTextNode(content);
                    }
                    
                    var cell = document.createElement("td");
                    cell.appendChild(content);
                    row.appendChild(cell);
                }

                for (var i = 0; i < data.features.length; i++){
                    var featureProps = data.features[i].properties;
                    
                    var trow = document.createElement("tr");
                    var checkBox = document.createElement('input');
                    checkBox.setAttribute('type', 'checkbox');
                    
                    addCell(trow, checkBox);
                    addCell(trow, featureProps.date);
                    addCell(trow, featureProps.contact);
                    
                    tbody.appendChild(trow);
                }
                
            },
            error: function geojesonRequestError(err){
                console.log(err);
            }
        });
        



    </script>
</body>

</html>